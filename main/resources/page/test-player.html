<!DOCTYPE html>
<html>
<head>
    <title></title>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js"></script>
    <script src="../script/vendor/q.js"></script>
    <script src="../script/player.js"></script>
    <script src="//www.youtube.com/iframe_api"></script>
    <script>
        window.onYouTubeIframeAPIReady = function () {
            // usage
            var pool = new mt.player.PlayersPool(function () {
                var playerDiv = document.createElement('div');
                document.getElementById('players-container').appendChild(playerDiv)
            });

            var lastHandle;

            $('button').click(function () {
                var $button = $(this);

                var handle = pool.prepareVideo({id: $button.attr('data-video'), provider: 'youtube', coarseDuration: 1000});
                handle.load().done(function () {
                    if (lastHandle) lastHandle.out();
                    handle.in();
                    lastHandle = handle;
                })
            });
        };
    </script>
</head>
<body>
<div id="players-container">

</div>

<button id="btn1" type="button" data-video="35FbLhYG86M">Video 1</button>
<button id="btn2" type="button" data-video="ypU6RHVb_Gw">Video 2</button>

</body>
</html>