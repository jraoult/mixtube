<!DOCTYPE html>
<html>
<head>
    <title></title>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js"></script>
    <script src="../script/players-pool.js"></script>
    <script src="//www.youtube.com/iframe_api"></script>
    <script>
        window.onYouTubeIframeAPIReady = function () {
            // usage
            var pool = new mt.player.PlayersPool(function () {
                var playerDiv = document.createElement('div');
                playerDiv.classList.add('player-frame');
                document.getElementById('players-container').appendChild(playerDiv);
                return playerDiv;
            });

            var lastHandle;

            $('button').click(function () {
                var $button = $(this);
                var videoId = $button.attr('data-video');

                var handle = pool.prepareVideo({id: videoId, provider: 'youtube', coarseDuration: 1000});

                handle.load().done(function () {
                    if (lastHandle) lastHandle.out(5000);
                    handle.in(5000);
                    lastHandle = handle;
                })
            });
        };
    </script>
    <style>
        #players-container {
            position: relative;
        }

        .player-frame {
            position: absolute;
            right: 0;
            top: 0;
        }
    </style>
</head>
<body>
<div id="players-container">

</div>

<button id="btn1" type="button" data-video="uUIyJzRdGcY">Video 1</button>
<button id="btn2" type="button" data-video="ypU6RHVb_Gw">Video 2</button>

</body>
</html>